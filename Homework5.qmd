---
title: "Homework5"
format: html
editor: visual
---

## Task 1: Conceptual Questions

#### 1. What is the purpose of using cross-validation when fitting a random forest model?



#### 2. Describe the bagged tree algorithm.



#### 3. What is meant by a general linear model?



#### 4. When fitting a multiple linear regression model, what does adding an interaction term do? That is, what does it allow the model to do differently as compared to when it is not included in the model?



#### 5. Why do we split our data into a training and test set?



## Task 2: Fitting Models

#### Libraries

```{r}
library(tidyverse)
library(dplyr)
library(tidyr)
library(readr)
library(ggplot2)
library(httr)
library(jsonlite)
library(knitr)
#library(caret)
```


#### 1. Understand your data

**Check on missingness and summarize the data**

```{r}
# Read in the data
heart_data <- read.csv("heart.csv")
```

```{r}
# Quickly understand the data
head(heart_data)
summary(heart_data)

# Identify the structure of the data
str(heart_data)
```

```{r}
# Check for missing values in each row
num_missing_vals <- sum(is.na(heart_data))

# Print the number of missing values per row
num_missing_vals
```

```{r}
# Summarize the data with respect to the variable relationships to HeartDisease
heart_data |>
  group_by(HeartDisease) |>
  summarise(across(where(is.numeric), list(mean = mean, sd = sd), na.rm = TRUE))
```

#### 2. Create a new variable

```{r}
# Create a factor version of the HeartDisease variable
heart_data <- heart_data |>
  mutate(HeartDiseaseFactor = as.factor(HeartDisease))
```

```{r}
# Remove the ST_Slope variable and HeartDisease variable
heart_data <- heart_data |>
  select(-ST_Slope, -HeartDisease)
```

#### 3. kNN

```{r}
# Create dummy columns
dummy_cols <- dummyVars("~ Sex + ExerciseAngina + ChestPainType + RestingECG", data = heart_data)
```

```{r}
# Convert dummy columns to data frames
```


```{r}
# Use dummyVars() and predict() to create new columns
```

```{r}
# Add these columns to our data frame
```

```{r}
# Split the data into training and testing sets
```

```{r}
# 10 fold cross-validation
```


```{r}
# use tuneGrid to fit the model
```

```{r}
# Check how well the chosen model does on the test set using the confusionMatrix function
```

#### Logistic Regression

```{r}
# Posit 3 different logistic regression models
```

```{r}
# Fit these models on the training set
```

**Identify which model is best and summarize it**

```{r}
# Check how well the chosen model does on the test set using the confusionMatrix() function
```


# Tree Models

```{r}
# Chose your own variable of interest
```


```{r}
# Use repeated 10 fold cross-validation
```

**Classification Tree Model**

```{r}

```

**Random Forest**

```{r}

```

**Boosted Tree**

```{r}

```


```{r}
# Check how well each of the chosen models does on the test set using the confusionMatrix() function
```

#### Wrap Up

**Which model overall did the best job (in terms of accuracy) on the test set?**
